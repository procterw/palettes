"use strict";!function(){function e(e,n,s){var i=d3.select(s.wrapperID).selectAll("div").data(e);i.enter().append("div"),i.append("canvas").attr("width",l).attr("height",r).each(function(e){t(d3.select(this).node(),e,n)}),i.attr("class",s.cellClass).append("label").html(function(e){return a(e.filename)+"<br>1887"})}function t(e,t,a){for(var l,r,s,i,c=e.getContext("2d"),p=t[a],o=0;o<p.length;o++)l=p[o].color,s=p[o].percent,i=p[o].percentSum,r=n(o,a,s,i),c.fillStyle=l,c.fillRect(r[0],r[1],r[2],r[3])}function n(e,t,n,a){var c,p,o,u;return p=0,u=r,"percentage"===i.sizeBy?(c=l*a,o=l*n+1):(o=s(),c=o*e),[c,p,o,u]}function a(e){return e.replace("small.jpg","").replace("images/","").replace(/-/g," ")}var l=186,r=60,s=function(){return l/i.nColors.replace("k"," ")},i={};i.nColors="k9",i.nColorOptions=[{name:"six",val:"k6"},{name:"nine",val:"k9"},{name:"twelve",val:"k12"}],i.sizeBy="percentage",i.sizeByOptions=[{name:"percentage",val:"percentage"},{name:"equal",val:"equal"}],i.selections={wrapperID:"#palette-wrapper",cellClass:"palette-cell"},d3.json("palettes.json",function(t){i.paletteData=t,e(i.paletteData,i.nColors,i.selections)}),bindRadio("#size-by","sizeBy","sizeByOptions")}();